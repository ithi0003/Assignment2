<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Australian Bushfires</title>

  <!-- Vega libraries -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <!-- Styles -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/ithi0003/Assignment2@main/css/style.css">
</head>

<body>
  <!-- Header -->
  <header>
    <h1>Australian Bushfires</h1>
    <p>A Visual Exploration of Australia's Bushfire Activity</p>
  </header>

  <!-- Main Section -->
  <section class="main-content">
    <div class="container-large">

      <!-- Map -->
      <h1>Hotspot Intensity and Distribution</h1>
      <div class="sub-container">
        <div class="map-container" id="map_vis"></div>

        <div class="text-container">
          <h2>About the Map</h2>
          <p>
            This interactive map visualises <strong>satellite-detected fire hotspots</strong> across Australia.
            Each circle marks a detection, with colour intensity representing <strong>Fire Radiative Power (FRP)</strong>
            ,a measure of fire strength, and size corresponding to the scan width. Geographic boundaries are drawn
            from TopoJSON data to show ocean, states, and country borders.
          </p>

          <p><strong>Key Insights:</strong></p>
          <ul>
            <li>Fire activity clusters along northern and eastern Australia.</li>
            <li>Higher FRP values are concentrated in regions with prolonged drought.</li>
            <li>Interactive tooltips reveal the date, brightness, and energy of each fire.</li>
          </ul>

          <div class="tooltip">
            <strong>Hover here for chart elements</strong>
            <div class="tooltip-text">
              <p><span>FRP Slider:</span> Adjust the threshold to focus on low vs high-intensity fires.</p>
              <p><span>Interactive Points:</span> Hover to see detailed hotspot attributes.</p>
              <p><span>Colour Encoding:</span> Shades from yellow -> red represent growing intensity.</p>
              <p><span>Legend:</span> Guides you through the FRP scale and point size.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Area Chart -->
      <h1>Hotspot Counts Over Time</h1>
      <div class="sub-container">
        <div class="text-container">
          <h2>About the Chart</h2>
          <p>
            This stacked area chart displays <strong>daily hotspot counts</strong> split by <strong>Day</strong> and <strong>Night</strong>.
            Use the dropdown below the chart to filter between time periods. A dashed rule and annotation highlight the peak day.
          </p>

          <p><strong>Key Insights:</strong></p>
          <ul>
            <li>Daytime detections dominate across the observation period.</li>
            <li>Short spikes in night-time detections align with peak fire activity days.</li>
            <li>The peak on September 10 marks the highest recorded activity with 1300+ hotspots.</li>
          </ul>

          <div class="tooltip">
            <strong>Hover here for chart elements</strong>
            <div class="tooltip-text">
              <p><span>Dropdown Filter:</span> Select "All,"" "Day," or "Night" hotspots.</p>
              <p><span>Tooltips:</span> Hover to display exact counts and dates.</p>
              <p><span>Annotation:</span> Peak count is marked with a dashed vertical line.</p>
            </div>
          </div>
        </div>

        <div class="chart-container" id="area_vis"></div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Australian Bushfires - Data from NASA FIRMS (via Kaggle)</p>
    <div class="popup-container">
      <p class="hover-text">Data Sources</p>
      <div class="popup-content">
        <ul class="footer-links">
          <li>
            <a href="https://www.kaggle.com/datasets/carlosparadis/fires-from-space-australia-and-new-zeland" target="_blank">
              Fires from Space: Australia and New Zealand
            </a> - Satellite hotspot detections used for mapping.
          </li>
          <li>
            <a href="https://www.kaggle.com/datasets/kkhandekar/australian-forest-fire-area-20192020/data" target="_blank">
              Department of Agriculture, Water & the Environment
            </a> - Australian Forest Fire Area 2019-2020
          </li>
        </ul>
      </div>
    </div>
  </footer>

  <!-- Vega Embeds -->
  <script>
    const mapSpec = "https://raw.githubusercontent.com/ithi0003/Assignment2/main/charts/map.json";
    vegaEmbed('#map_vis', mapSpec, { actions: false }).catch(console.error);

    const areaSpec = "https://raw.githubusercontent.com/ithi0003/Assignment2/main/charts/line_chart.json";
    vegaEmbed('#area_vis', areaSpec, { actions: false }).catch(console.error);
  </script>
</body>
</html>
