<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Australian Bushfires</title>

  <!-- Vega libraries -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <!-- Stylesheet (update ?v= when changed) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/ithi0003/Assignment2@main/css/style.css?v=tooltips-final">
</head>

<body>
  <!-- Header -->
  <header>
    <h1>Australian Bushfires</h1>
    <p>A Visual Exploration of Australia's Bushfire Activity</p>
  </header>

  <!-- Main Content -->
  <section class="main-content">
    <div class="container-large">

      <!-- ===================== Map ===================== -->
      <h1>Hotspot Intensity and Distribution</h1>
      <div class="sub-container">
        <div class="map-container" id="map_vis"></div>
        <div class="text-container">
          <h2>About the Map</h2>
          <p>
            This interactive map visualises <strong>satellite-detected fire hotspots</strong> across Australia.
            Colour encodes <strong>Fire Radiative Power (FRP)</strong> and size corresponds to scan width.
          </p>
          <ul>
            <li>Clusters appear along northern and eastern regions.</li>
            <li>Higher FRP where drought persists.</li>
            <li>Hover for brightness and energy.</li>
          </ul>
          <div class="tooltip">
            <strong>Hover here for chart elements</strong>
            <div class="tooltip-text">
              <p><span>FRP Slider:</span> Adjust intensity threshold.</p>
              <p><span>Legends:</span> Fire size and FRP scale.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- ===================== Area Chart ===================== -->
      <h1>Hotspot Counts Over Time</h1>
      <div class="sub-container">
        <div class="text-container">
          <h2>About the Chart</h2>
          <p>
            Stacked area of <strong>daily hotspot counts</strong> split by <strong>Day</strong> and <strong>Night</strong>.
            Dropdown filters period; dashed line marks peak.
          </p>
          <ul>
            <li>Day detections dominate most of the season.</li>
            <li>Night spikes align with major events.</li>
            <li>Peak day highlighted.</li>
          </ul>
          <div class="tooltip">
            <strong>Hover here for chart elements</strong>
            <div class="tooltip-text">
              <p><span>Dropdown:</span> All / Day / Night.</p>
              <p><span>Tooltips:</span> Exact counts and dates.</p>
            </div>
          </div>
        </div>
        <div class="chart-container" id="area_vis"></div>
      </div>

      <!-- ===================== Heatmap ===================== -->
      <h1>Fire Risk by Month and State</h1>
      <div class="sub-container">
        <div class="chart-container" id="heatmap_vis"></div>
        <div class="text-container">
          <h2>About the Heatmap</h2>
          <p>
            Shows relative <strong>fire risk intensity</strong> by state and month (0 = low, 1 = high).
          </p>
          <ul>
            <li>Risk peaks in summer (Dec-Feb).</li>
            <li>Southern states stay cooler.</li>
            <li>NT &amp; QLD show long dry seasons.</li>
          </ul>
          <div class="tooltip">
            <strong>Hover here for chart elements</strong>
            <div class="tooltip-text">
              <p><span>Gradient:</span> Darker = higher risk.</p>
              <p><span>Tooltips:</span> State, month, value.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- ===================== Bar Chart ===================== -->
      <h1>Forest Area vs Burnt Area</h1>
      <div class="sub-container">
        <div class="text-container">
          <h2>About the Chart</h2>
          <p>
            Each bar shows a state's <strong>total native forest area</strong> with the
            <strong>burnt portion</strong> stacked inside it.
            Use the dropdown to switch <em>forest tenure</em>.
          </p>
          <ul>
            <li>NSW &amp; VIC had the largest forest losses.</li>
            <li>WA &amp; QLD had low burnt proportions relative to total area.</li>
            <li>ACT had the highest proportion burnt relative to size.</li>
            <li>Nationally, about <strong>6% of native forests</strong> were affected.</li>
          </ul>
          <div class="tooltip">
            <strong>Hover here for chart elements</strong>
            <div class="tooltip-text">
              <p><span>Dropdown:</span> Select forest tenure type.</p>
              <p><span>Legend:</span> Teal = unburnt, Red = burnt.</p>
            </div>
          </div>
        </div>
        <div class="chart-container" id="bar_vis"></div>
      </div>

    </div>
  </section>

  <!-- ===================== Footer ===================== -->
  <footer>
    <p>2025 Australian Bushfires</p>
    <div class="popup-container">
      <p class="hover-text">Data Sources</p>
      <div class="popup-content">
        <ul class="footer-links">
          <li>
            <a href="https://www.kaggle.com/datasets/carlosparadis/fires-from-space-australia-and-new-zeland" target="_blank">
              Fires from Space: Australia and New Zealand
            </a>
          </li>
          <li>
            <a href="https://www.kaggle.com/datasets/kkhandekar/australian-forest-fire-area-20192020/data" target="_blank">
              Australian Forest Fire Area 2019-2020
            </a>
          </li>
        </ul>
      </div>
    </div>
  </footer>

  <!-- ===================== Vega Embeds ===================== -->
  <script>
    const opts = { actions: false, tooltip: { offsetX: 8, offsetY: 8 } };

    vegaEmbed('#map_vis',
      'https://raw.githubusercontent.com/ithi0003/Assignment2/main/charts/map.json?v=tooltips-final',
      opts).catch(console.error);

    vegaEmbed('#area_vis',
      'https://cdn.jsdelivr.net/gh/ithi0003/Assignment2@main/charts/area_chart.json?v=tooltips-final',
      opts).catch(console.error);

    vegaEmbed('#heatmap_vis',
      'https://raw.githubusercontent.com/ithi0003/Assignment2/main/charts/heatmap.json?v=tooltips-final',
      opts).catch(console.error);

    vegaEmbed('#bar_vis',
      'https://raw.githubusercontent.com/ithi0003/Assignment2/main/charts/barchart.json?v=tooltips-final',
      opts).catch(console.error);
  </script>
</body>
</html>
